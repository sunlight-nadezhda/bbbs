(()=>{"use strict";function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var t=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._handleClose=this._handleCloseMenu.bind(this),this._menuSettings=e,this._mediaQuery=window.matchMedia("(min-width: 1320px)")}var i,n;return i=t,(n=[{key:"_handleViewMenu",value:function(){this._toggleClassList(),this._menuSettings.closeButton.addEventListener("click",this._handleClose)}},{key:"_handleCloseMenu",value:function(){this._menuSettings.header.classList.contains("header__overlay")&&(this._toggleClassList(),this._menuSettings.closeButton.removeEventListener("click",this._handleClose))}},{key:"_toggleClassList",value:function(){this._menuSettings.header.classList.toggle("header__overlay"),this._menuSettings.header.classList.toggle("header_fixed"),this._menuSettings.menu.classList.toggle("header__item_active"),this._menuSettings.closeButton.classList.toggle("header__item_active"),this._menuSettings.menuButton.classList.toggle("header__item_inactive"),this._menuSettings.personalAccountButton.classList.toggle("header__item_active"),this._menuSettings.content.classList.toggle("content_inactive"),this._menuSettings.headerSearch.classList.toggle("header__item_inactive")}},{key:"_closeColumnMenu",value:function(){this._mediaQuery.matches&&this._menuSettings.menu.classList.contains("header__item_active")&&this._handleCloseMenu()}},{key:"_showFixedMenu",value:function(){this._prevScrollPos||(this._prevScrollPos=0);var e=window.scrollY;e<this._prevScrollPos&&this._mediaQuery.matches&&e>100?this._menuSettings.header.classList.add("header_fixed"):e>this._prevScrollPos&&this._mediaQuery.matches&&e>100||e<=100&&this._mediaQuery.matches&&this._menuSettings.header.classList.contains("header_fixed")?this._menuSettings.header.classList.remove("header_fixed"):e<this._prevScrollPos&&!this._mediaQuery.matches&&e>100&&!this._menuSettings.header.classList.contains("header_fixed")?this._handleViewMenu():(e>this._prevScrollPos&&!this._mediaQuery.matches&&e>100&&this._menuSettings.header.classList.contains("header_fixed")||e<=100&&!this._mediaQuery.matches&&this._menuSettings.header.classList.contains("header_fixed"))&&this._handleCloseMenu(),this._prevScrollPos=e}},{key:"setEventListeners",value:function(){this._menuSettings.menuButton.addEventListener("click",this._handleViewMenu.bind(this)),this._menuSettings.personalAccountButton&&this._menuSettings.personalAccountButton.addEventListener("mouseup",this._handleCloseMenu.bind(this)),this._menuSettings.changeCity&&this._menuSettings.changeCity.addEventListener("mouseup",this._handleCloseMenu.bind(this)),window.addEventListener("resize",this._closeColumnMenu.bind(this)),document.addEventListener("scroll",this._showFixedMenu.bind(this))}}])&&e(i.prototype,n),t}();function i(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var n=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._widgetElement=t,this._mediaQueryFull=window.matchMedia("(min-width: 1441px)"),this._mediaQueryWide=window.matchMedia("(min-width: 1025px) and (max-width: 1440px)"),this._mediaQueryMiddle=window.matchMedia("(min-width: 681px) and (max-width: 1024px)"),this._mediaQuerySmall=window.matchMedia("(max-width: 425px)"),this._temporaryWidth=420,this._temporaryHeight=627}var t,n;return t=e,(n=[{key:"_setSizeOfWidget",value:function(e,t){this._temporaryWidth==e&&this._temporaryHeight==t||(this._widgetElement.src="https://www.facebook.com/plugins/page.php?href=https%3A%2F%2Fwww.facebook.com%2FBigBrothers.BigSisters.Russia&tabs=timeline&width=".concat(e,"&height=").concat(t,"&small_header=false&adapt_container_width=true&hide_cover=false&show_facepile=false&appId"),this._widgetElement.width="".concat(e),this._widgetElement.height="".concat(t),this._temporaryWidth=e,this._temporaryHeight=t)}},{key:"_resizeWidget",value:function(){this._mediaQueryFull.matches&&this._setSizeOfWidget(420,627),this._mediaQueryWide.matches&&this._setSizeOfWidget(370,627),this._mediaQueryMiddle.matches&&this._setSizeOfWidget(370,552),this._mediaQuerySmall.matches&&this._setSizeOfWidget(290,433)}},{key:"setEventListeners",value:function(){this._widgetElement&&window.addEventListener("resize",this._resizeWidget.bind(this))}}])&&i(t.prototype,n),e}(),s={header:document.querySelector(".header"),menuButton:document.querySelector(".header__button_type_menu"),closeButton:document.querySelector(".header__button-close"),menu:document.querySelector(".header__menu"),menuSocials:document.querySelector(".header__menu-socials"),personalAccountButton:document.querySelector(".header__button_type_personal-account"),content:document.querySelector(".content"),changeCity:document.querySelector(".header__change-city"),headerSearch:document.querySelector(".header__search")},a=document.querySelector(".popup_type_login"),o=document.querySelector(".popup_type_video"),c=document.querySelector(".popup_type_city"),r=document.querySelector(".widget"),u=document.querySelector(".video-bigcard__link"),d=document.querySelector(".popup_type_calendar"),h=document.querySelector(".popup_type_confirm"),l=document.querySelector(".popup_type_success");function _(e){e&&e.classList.add("popup_opened")}new t(s).setEventListeners(),new n(r).setEventListeners(),s.personalAccountButton&&s.personalAccountButton.addEventListener("click",(function(){_(a)})),u&&u.addEventListener("click",(function(){_(o)})),s.changeCity&&s.changeCity.addEventListener("click",(function(){_(c)})),document.addEventListener("click",(function(e){(e.target.classList.contains("popup__btn-close")||e.target.classList.contains("popup")||e.target.classList.contains("popup__btn-return"))&&function(e){e.target.closest(".popup").classList.remove("popup_opened")}(e),e.target.classList.contains("calendar__full-view-button")&&_(d),e.target.classList.contains("button_singup")&&(document.querySelector(".popup_opened")&&document.querySelector(".popup_opened").classList.remove("popup_opened"),_(h)),e.target.classList.contains("popup__btn-confirm")&&(document.querySelector(".popup_opened").classList.remove("popup_opened"),_(l))}))})();